<!DOCTYPE HTML>
<html>
<head>
	<title>Wiki Loves Monuments Mobile Uploads</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<link rel="stylesheet" type="text/css" href="p.css">
</head>
<body>
	<div id="display"></div>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="polaroiderizer.js"></script>
	<script type="text/javascript">
	(function() {
		$( '<div id="buttons">' ).appendTo( document.body );
		$( '<button>' ).data( 'data', {
				iiurlwidth: '320px',
				action: 'query',
				gcmsort: 'timestamp', gcmdir: 'desc',
				gcmlimit: 500, gcmtitle: 'Category:Mobile_upload',
				generator: 'categorymembers', format: 'json', prop: 'imageinfo', iiprop: 'url|user'
			} ).data( 'options', {
				dropDelay: 3000,
				source: 'commons'
			} ).text( 'Mobile Uploads' ).appendTo( '#buttons' );

		$( '<button>' ).text( 'flickr:wikilovesmonuments' ).data( 'data',
				{
					'tags': 'wikilovesmonuments',
					api_key: '0a346a54dbca829015b11fcac9e70c6f',
					per_page: 100
				} ).data( 'options', { source: 'flickr' } ).appendTo( '#buttons' );
	}());

	// setup click handler
	$( '#buttons button' ).click( function() {
		$( '#buttons button' ).attr( 'disabled', false );
		$( this ).attr( 'disabled', true );
		var data = $( this ).data( 'data' );
		var options = $( this ).data( 'options' );
		polaroiderizer( $( '#display' ), data, options );
	} );
	$( '#buttons button' ).eq( 0 ).trigger( 'click' );
	</script>
</body>
</html>
